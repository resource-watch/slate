[TODO: Find out about and document ["Create using ESRI JSON"](https://github.com/gfw-api/gfw-geostore-api/blob/ab23215e9887611f60b2662eae3e107142c5fa01/app/src/routes/api/v2/geostore.router.js#L77)]
[TODO: find details of the missing endpoints]

# Geostore

## What is Geostore

If you are new to the RW API, or want to learn more about the concept of a geostore, we strongly encourage you to read the [geostore concept](#geostore) documentation first. It gives you a brief and clear description of what a geostore is, and what it can do for you.

Once you've read that section, you can come back here to learn more details about using the RW API's Geostore feature, which aims to provide a comprehensive way to communicate geographic vector-data structures described using [GeoJSON](https://en.wikipedia.org/wiki/GeoJSON) between platforms and microservices.

[Geostore objects](#geostore-objects), describing things like the boundaries of countries, protected areas or land use types, have been uploaded by [WRI](https://www.wri.org/), its partner organizations, or by API users like you. They are particularily useful for combining with the range of [datasets](#dataset) available in the RW API, for example to create national summaries or for making a specific analysis within your own user-defined region.

To find out more about accessing the geostores already available on the RW API, check out the documentation on [getting geostores](#getting-geostore-objects). A quick, visual way to view an existing geostore is by using the [`/geostore/:id/view`](#get-geostore-by-geostore-id-and-view-at-geojson-io) endpoint.

You can also [create you own geostores](#create-geostore-objects) on the RW API, if you'd like to share your data with the world, or if you are looking to use the RW API and its features to gain insights into your data.

## Geostore objects

Geostore objects contain [GeoJSON](#geojson) `FeatureCollection` objects (`geojson`), with a single `Feature` whose `Geomerty` has been checked for geometric validity, and have been assigned an identifier (`id`, `hash`) upon creation.

This identifier is a 128-bit hash generated by passing [pre-processed GeoJSON string](#geostore) through the [MD5 message-digest algorithm](https://en.wikipedia.org/wiki/MD5). This means that each identifier is a unique fingerprint of the GeoJSON string.

So if you add an exact copy of your GeoJSON string it will generate the same hash, but if the GeoJSON string is changed in any way it will have a different hash. Hence, the Geostore identifier provides the RW API a way to ensure that platforms and microservices are using *exactly* the same geographic structures. Note changes in the Geostore ID may also represent changes in other  GeoJSON properties, not only the `Geometry`*

To prevent overwriting of existing geostore objects, they contain a field indicated if the object is locked to editing (`lock`); which can be [set when creating geostore objects](#create-geostore-objects).

Also, during object creation the minimum bounding box enclosing all geometries in the GeoJSON (`bbox`), and, if the geometries are type (Multi) Polygon, total surface area in hectares of the geometries (`areaHa`) are added to the geostore. Note these values are not calculated if supplied when creating a geostore.

Geostore objects can also be created by getting a GeoJSON from provider API; in which case the geostore will also include an object which gives information used to connect to the provider data source (`provider`). At present the only provider definition supported is a [Carto](https://carto.com/) table, using  `"type": "carto"`. 

[TODO: check This provider allows filtering of geometry collections using [SQL] syntax.]

Finally, all geostore objects have a property for storing application specific attributes (`info`), which has no formalised schema. Here, fields used for indexing, and metadata, related to use on different platforms are added.

> Overview of a geostore object

| Field | Type | Description |
|-|-|-|
| `id` | string | A unique identifier for the geostore object in the form of a 128 bit [MD5 hash](https://en.wikipedia.org/wiki/MD5) generated from the GeoJSON object. |
| `hash` | string | A unique identifier for the geostore object in the form of a 128 bit [MD5 hash](https://en.wikipedia.org/wiki/MD5) generated from the GeoJSON object. |
| `geojson` | object | A valid `FeatureCollection`, `Feature`, or `Geometry` [GeoJSON](https://geojson.org/) object. |
| `provider` | object | Optional [provider definition](#create-using-a-provider-definition) used to fetch GeoJSON data from APIs. |
| `lock` | string | Optional indication if the object is locked for editing |
| `areaHa` | number | Optional total surface area in hectares of all Polygon and MultiPolygon geometries in the GeoJSON object. |
| `bbox` | array | Array describing the [minumum bounding box](https://en.wikipedia.org/wiki/Minimum_bounding_box) enclosing all of the geometries in the GeoJSON object, expressed as an array of the form min Longitude , min Latitude , max Longitude , max Latitude. |
| `info` | object | Object that defines application specific properties, for example used for indexing or related to editing of the geostore object. |

## Overview of available endpoints

The RW APIs Geostore feature has a number of endpoints to help users interact with geostore objects. Many of them are essentially helpers to make it easy to access geometries from useful data sources, such as:

- **Administrative areas** (countries, regions, ect.) from the [Database of Global Administrative Areas (GADM)](https://en.wikipedia.org/wiki/GADM).
- **Protected areas** (world hertigate sites, national parks, ect.) from the [The World Database on Protected Areas](https://www.protectedplanet.net/c/world-database-on-protected-areas).
- **Land activity/use types** (logging, mining, ect.) [TODO: cite/link to source!]

As these data sets are periodically updated, these "helper" endpoints are updated to use the latest data. So unless you really need an older version of a data set, such as GADM, you should always use the latest endpoint version. See the table below to get an overview of what can be done; click on the description to get more details.

> Comparsion of endpoint versions

| Version | Description |
|-|-|
| `v1` | GADM version 2.8. WDPA version ? Land Use Types version ? |
| `v2` | GADM version 3.6. WDPA version ? Land Use Types version ? |


> Overview of endpoints

| Method | Path | Description |
|-|-|-|
| POST | `/v1/geostore` | [Create geostore objects](#create-geostore-objects) |
| POST | `/v1/geostore/area` | ?? |
| GET | `/v2/geostore/:id` | [Get geostore by Geostore ID](#get-geostore-by-geostore-id) |
| POST | `/v2/geostore/find-by-ids` | [Get geoStores by Geostore IDs](#get-geostores-by-geostore-ids) |
| GET | `/v2/geostore/:id/view` | [Get geostore by Geostore ID and view at GeoJSON.io](#get-geostore-by-geostore-id-and-view-at-geojson-io) |
| GET | `/v2/geostore/admin/list` | [Get all Geostore IDs, names and country codes](#get-all-geostore-ids-names-and-country-codes) |
| GET | `/v2/geostore/admin/:iso` | [Get geostore by country code](#get-country-code) |
| GET | `/v2/geostore/admin/:iso/:id1` | [Get geostore by country code and GADM admin 1 ID](#get-geostore-by-country-code-and-gadm-admin-1-id) |
| GET | `/v2/geostore/admin/:iso/:id1/:id2` | [Get geostore by country code, GADM admin 1 and admin 2 IDs](#get-geostore-by-country-code-gadm-admin-1-and-admin-2-ids) |
| GET | `/v2/geostore/wdpa/:id` | [Get geostore by WDPA ID](#get-geostore-by-wdpa-id) |
| GET | `/v2/geostore/use/:name/:id` | [Get geostore by Land Use Type name and ID](#get-geostore-by-land-use-type-name-and-id) |

## Create geostore objects

Geostore objects can be created in the RW API Geostore using a valid GeoJSON object or by selecting a row from a [Carto](https://carto.com/) table.

> Errors for creating a geostore object

Error code     | Error message  | Description
-------------- | -------------- | --------------
400            | `<field>`: `<field>` can not be empty | Your are missing a required field value.
400            | `<field>`: empty or invalid `<field>` | The provided value for `<field>` is invalid. This is usually happens if an invalid value type is provided, but certain fields use more advanced validation rules, that may produce this error message if validation fails (ie: `geojson`, which must be `type:` `FeatureCollection`, `Feature`, or `Geometry`).
400            | provider: must be valid <list of valid providers> | Your `provider` `type` value is invalid. The `<list of valid providers>` will contain the list of providers that are supported.

### Create using a GeoJSON

Geostore objects can be created via the POST `geostore` endpoint, which accepts as body a GeoJSON object (`<geojson>`). This must be a `FeatureCollection`, `Feature` or `Geometry` If the object is correctly added to the Geostore a `200` response is returned, as well as the new geostore object.

> Example request pattern

```shell
curl -X POST https://api.resourcewatch.org/v1/geostore/ \
     -H "Content-Type: application/json" \
     -d '{"geojson": <geojson>}'
```

> Example URL request

```shell
curl --location --request POST 'https://api.resourcewatch.org/v1/geostore' \
--header 'Content-Type: application/json' \
--data-raw '{
   "geojson":{
      "type":"FeatureCollection",
      "features":[
         {
            "type":"Feature",
            "properties":{

            },
            "geometry":{
               "type":"Polygon",
               "coordinates":[
                  [
                     [
                        -4.4549560546875,
                        40.84706035607122
                     ],
                     [
                        -4.4549560546875,
                        41.30257109430557
                     ],
                     [
                        -3.5211181640624996,
                        41.30257109430557
                     ],
                     [
                        -3.5211181640624996,
                        40.84706035607122
                     ],
                     [
                        -4.4549560546875,
                        40.84706035607122
                     ]
                  ]
               ]
            }
         }
      ]
   }
}'
```

> Example response

```json
{
    "data": {
        "type": "geoStore",
        "id": "4b25676360d8bbd5106a022103e0cd28",
        "attributes": {
            "geojson": {
                "crs": {},
                "type": "FeatureCollection",
                "features": [
                    {
                        "geometry": {
                            "coordinates": [
                                [
                                    [
                                        -4.454956055,
                                        40.847060356
                                    ],
                                    [
                                        -4.454956055,
                                        41.302571094
                                    ],
                                    [
                                        -3.521118164,
                                        41.302571094
                                    ],
                                    [
                                        -3.521118164,
                                        40.847060356
                                    ],
                                    [
                                        -4.454956055,
                                        40.847060356
                                    ]
                                ]
                            ],
                            "type": "Polygon"
                        },
                        "type": "Feature"
                    }
                ]
            },
            "hash": "4b25676360d8bbd5106a022103e0cd28",
            "provider": {},
            "areaHa": 397372.34118232,
            "bbox": [
                -4.454956055,
                40.847060356,
                -3.521118164,
                41.302571094
            ],
            "lock": false,
            "info": {
                "use": {}
            }
        }
    }
}
```

### Create using a provider definition

Geostore objects can be created via the POST `geostore` endpoint, which accepts as body a provider definition object (`<provider>`), the API then fetches a GeoJSON from the provider, and adds it too the Geostore. If the object is correctly added to the Geostore a `200` response is returned, as well as the new geostore object. At present the only provider definition supported is a [Carto](https://carto.com/) table, using `"type": "carto"`.

> Overview of provider object

| Field | Type | Description |
|-|-|-|
| `type` | string | Keyword of the provider |
| `table` | string | Name of the provider table |
| `user` | string | Provider username |
| `filter` | string | Provider specific filter |

> Example request pattern

```shell
curl -X POST https://api.resourcewatch.org/v2/geostore \
-H "Content-Type: application/json" \
-d '{"provider": <provider>}'
```

> Example URL request

```shell
curl -X POST https://api.resourcewatch.org/v2/geostore \
-H "Content-Type: application/json" \
-d '{
        "provider":{
            "type": "carto",
            "table": "gfw_mining",
            "user": "wri-01",
            "filter": "cartodb_id=573"
        }
    }'
```

> Example response

```json

```

## Getting geostore objects

The fundamental way to read geometries from the RW APIs Geostore is by using Geostore IDs. Using these identifiers you can ensure that you are always [retrieving exactly the same `Feature`](#geostore-objects). If you [add your own geostores](#create-geostore-objects) you will be using [these endpoints](#get-geostore-by-geostore-id).

Alternatively you may prefer to get selected geometries from the datasets already added to the RW API Geostore, such as the [latest administrative areas, protected areas, or land use types](#overview-of-available-endpoints). Note, these are periodically updated, and potentially both geometries and ids may change between versions. By design this means that, for example, the Geostore IDs of countries change between versions. These geometries can also be simplified when reading them from the Geostore, using the parameter `?simplify=<value>`, where `<value>` is given to the simplification algorithm, 0.005 usually works well.

### Get geostore by Geostore ID

Geostore objects can be retrieved via the GET `geostore/:id` endpoint,
which returns a single object selected from the Geostore using a single [Geostore ID](#geostore) (`<id>`), if a geostore with the specified `<id>` does not exist in the Geostore, a `404` response is returned.

> Example request pattern

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/<id>
```

> Example URL request

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/ca38fa80a4ffa9ac6217a7e0bf71e6df
```

> Example response

```json
{
    "data": {
        "type": "geoStore",
        "id": "ca38fa80a4ffa9ac6217a7e0bf71e6df",
        "attributes": {
            "geojson": {
                "crs": {},
                "type": "FeatureCollection",
                "features": [
                    {
                        "type": "Feature",
                        "geometry": {
                            "type": "Polygon",
                            "coordinates": [
                                [
                                    [
                                        -5.273512601852417,
                                        42.81137220349083
                                    ],
                                    [
                                        -5.273512601852417,
                                        42.811803118457306
                                    ],
                                    [
                                        -5.272732079029083,
                                        42.811803118457306
                                    ],
                                    [
                                        -5.272732079029083,
                                        42.81137220349083
                                    ],
                                    [
                                        -5.273512601852417,
                                        42.81137220349083
                                    ]
                                ]
                            ]
                        }
                    }
                ]
            },
            "hash": "ca38fa80a4ffa9ac6217a7e0bf71e6df",
            "provider": {},
            "areaHa": 0.3057556230214663,
            "bbox": [
                -5.273512601852417,
                42.81137220349083,
                -5.272732079029083,
                42.811803118457306
            ],
            "lock": false,
            "info": {
                "use": {}
            }
        }
    }
}
```

### Get geostore by Geostore ID and view at GeoJSON.io

Geostore objects can be retrieved and viewed via the GET `geostore/:id/view` endpoint, which returns a URL allowing viewing of a single geostore object selected by [Geostore ID](#geostore-id) (`<id>`)  at GeoSON.io . If a geostore with the specified `<id>` does not exist in the Geostore, a `404` response is returned.

> Example request pattern

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/<id>/view
```

> Example URL request

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/ca38fa80a4ffa9ac6217a7e0bf71e6df/view
```

> Example response

```json
{
    "view_link": "http://geojson.io/#data=data:application/json,%7B%22crs%22%3A%7B%7D%2C%22type%22%3A%22FeatureCollection%22%2C%22features%22%3A%5B%7B%22type%22%3A%22Feature%22%2C%22geometry%22%3A%7B%22type%22%3A%22Polygon%22%2C%22coordinates%22%3A%5B%5B%5B-5.273512601852417%2C42.81137220349083%5D%2C%5B-5.273512601852417%2C42.811803118457306%5D%2C%5B-5.272732079029083%2C42.811803118457306%5D%2C%5B-5.272732079029083%2C42.81137220349083%5D%2C%5B-5.273512601852417%2C42.81137220349083%5D%5D%5D%7D%2C%22properties%22%3Anull%7D%5D%7D"
}
```

### Get geoStores by Geostore IDs

Many geostore objects can be retrieved via the POST `geostore/find-by-ids` endpoint, which returns an array of a geostore objects selected by an array of [Geostore IDs](#geostore-objects) (`[<id>, <id>]`). If no geostore with the specified `<id>` exists in the Geostore, a `404` response is returned. Otherwise an array will be retruned with all of the geostore objects found, and summary info is available in the root property `info`.

> Example request pattern

```shell
curl -X POST https://api.resourcewatch.org/v2/geostore/find-by-ids \
     -H "Content-Type: application/json" \
     -d '{"geostores": [<id>, <id>]}'
```

> Example URL request

```shell
curl -X POST https://api.resourcewatch.org/v2/geostore/find-by-ids \
     -H "Content-Type: application/json" \
     -d '{"geostores": ["35a6d982388ee5c4e141c2bceac3fb72", "8f77fe62cf15d5098ba0ee11c5126aa6"]}'
```

> Example response (coordinates are truncated)

```json
{
    "data": [
        {
            "geostoreId": "35a6d982388ee5c4e141c2bceac3fb72",
            "geostore": {
                "data": {
                    "type": "geoStore",
                    "id": "35a6d982388ee5c4e141c2bceac3fb72",
                    "attributes": {
                        "geojson": {
                            "crs": {},
                            "type": "FeatureCollection",
                            "features": [
                                {
                                    "geometry": {
                                        "coordinates": [
                                            ...
                                        ],
                                        "type": "MultiPolygon"
                                    },
                                    "type": "Feature"
                                }
                            ]
                        },
                        "hash": "35a6d982388ee5c4e141c2bceac3fb72",
                        "provider": {},
                        "areaHa": 50662609.25209112,
                        "bbox": [
                            -18.1604175567627,
                            27.6384716033936,
                            4.32819509506226,
                            43.7915267944337
                        ],
                        "lock": false,
                        "info": {
                            "use": {},
                            "iso": "ESP",
                            "name": "Spain"
                        }
                    }
                }
            }
        },
        {
            "geostoreId": "8f77fe62cf15d5098ba0ee11c5126aa6",
            "geostore": {
                "data": {
                    "type": "geoStore",
                    "id": "8f77fe62cf15d5098ba0ee11c5126aa6",
                    "attributes": {
                        "geojson": {
                            "crs": {},
                            "type": "FeatureCollection",
                            "features": [
                                {
                                    "geometry": {
                                        "coordinates": [
                                            ...
                                        ],
                                        "type": "MultiPolygon"
                                    },
                                    "type": "Feature"
                                }
                            ]
                        },
                        "hash": "8f77fe62cf15d5098ba0ee11c5126aa6",
                        "provider": {},
                        "areaHa": 54935531.53854849,
                        "bbox": [
                            -5.14375114440907,
                            41.3337516784668,
                            9.5604162216186,
                            51.08939743042
                        ],
                        "lock": false,
                        "info": {
                            "use": {},
                            "iso": "FRA",
                            "name": "France"
                        }
                    }
                }
            }
        }
    ],
    "info": {
        "found": 2,
        "foundIds": [
            "35a6d982388ee5c4e141c2bceac3fb72",
            "8f77fe62cf15d5098ba0ee11c5126aa6"
        ],
        "returned": 2
    }
}
```

### Get all Geostore IDs, names and country codes

All of the Geostore IDs, names, and country ISO 3166-1 alpha-3 code values available from the GADM data source in the Geostore can be retrived via the GET `geostore/admin/list` endpoint, which returns an array of objects with the properties `geostoreId`, `name`, and `iso`. 

> Example URL request

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/admin/list
```

> Example response

```json
{
    "data": [{
        "geostoreId": "35a6d982388ee5c4e141c2bceac3fb72",
        "iso": "ESP",
        "name": "Spain"
    }, {
        "geostoreId": "8f77fe62cf15d5098ba0ee11c5126aa6",
        "iso": "FRA",
        "name": "France"
    }, {
        "geostoreId": "1d568c183033da6c17cc28c4aecf1bcf",
        "iso": "cod",
        "name": "Democratic Republic of the Congo"
    }]
}
```

***Note - This endpoint does not return a unique array of iso codes and names!***

### Get geostore by country code

Geostore objects can be retrieved via the GET `geostore/admin/:iso` endpoint, which returns a single object selected from the Geostore using a single  country [ISO 3166-1 alpha-3 code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) (`<iso>`), if a geostore with the specified `<iso>` does not exist in the Geostore, a `404` response is returned. The returned geometries can be simplified using the parameter `?simplify=<value>`. Where `<value>` is given to the simplification algorithm, 0.005 usually works well.

***Note - The source of the geometries is GADM version 3.6.***

> Example request pattern

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/admin/<iso>simplify=<value>
```

> Example URL request

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/admin/ESP
```

> Example response (note coordinates are truncated)

```json
{
    "data": {
        "type": "geoStore",
        "id": "56f9a919e061d5edd10c042a8fcd31b6",
        "attributes": {
            "geojson": {
                "crs": {},
                "type": "FeatureCollection",
                "features": [
                    {
                        "geometry": {
                            "coordinates": [
                                ...
                            ],
                            "type": "MultiPolygon"
                        },
                        "type": "Feature",
                        "properties": null
                    }
                ]
            },
            "hash": "56f9a919e061d5edd10c042a8fcd31b6",
            "provider": {},
            "areaHa": 50662609.2516529,
            "bbox": [
                -18.160417557,
                27.638471603,
                4.328195095,
                43.791526794
            ],
            "lock": false,
            "info": {
                "use": {},
                "iso": "ESP",
                "id1": null,
                "id2": null,
                "gadm": "2.8",
                "name": "Spain"
            }
        }
    }
}
```

### Get geostore by country code and GADM admin 1 ID

Geostore objects can be retrieved via the GET `geostore/admin/:iso/:id1` endpoint, which returns a single object selected from the Geostore using a single country [ISO 3166-1 alpha-3 code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) (`<iso>`) and [GADM admin level 1](https://gadm.org/metadata.html) ID (`<id1>`), if a geostore with the specified `<iso>` and `<id1>` does not exist in the Geostore, a `404` response is returned. The returned geometries can be simplified using the parameter `?simplify=<value>`. Where `<value>` is given to the simplification algorithm, 0.005 usually works well.

***Note - The source of the geometries is GADM version 3.6, and large geometries are simplified.***

> Example request pattern

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/admin/<iso>/<id1>
```

> Example URL request

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/admin/ESP/9
```

> Example response (note coordinates are truncated)

```json
{
    "data": {
        "type": "geoStore",
        "id": "7d1534d7c24b2f907c4ae37d11fc51fe",
        "attributes": {
            "geojson": {
                "crs": {},
                "type": "FeatureCollection",
                "features": [
                    {
                        "geometry": {
                            "coordinates": [
                                ...
                            ],
                            "type": "MultiPolygon"
                        },
                        "type": "Feature",
                        "properties": null
                    }
                ]
            },
            "hash": "7d1534d7c24b2f907c4ae37d11fc51fe",
            "provider": {},
            "areaHa": 1036273.8136673134,
            "bbox": [
                -2.500030994,
                41.909896851,
                -0.726752043,
                43.314189911
            ],
            "lock": false,
            "info": {
                "use": {},
                "iso": "ESP",
                "id1": 9,
                "id2": null,
                "gadm": "2.8"
            }
        }
    }
}
```

### Get geostore by country code, GADM admin 1 and admin 2 IDs

GeoStore objects can be retrieved via the GET `geostore/admin/:iso/:id1/:id2` endpoint, which returns a single object selected from the Geostore using a single country [ISO 3166-1 alpha-3 code](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) (`<iso>`),  [GADM admin level 1](https://gadm.org/metadata.html) ID (`<id1>`), and [GADM admin level 2](https://gadm.org/metadata.html) ID (`<id2>`), if a geostore with the specified `<iso>`, `<id1>`, and `<id1>` does not exist in the Geostore, a `404` response is returned. The returned geometries can be simplified using the parameter `?simplify=<value>`. Where `<value>` is given to the simplification algorithm, 0.005 usually works well.

***Note - The source of the geometries is GADM version 3.6, and large geometries are simplified.***

> Example request pattern

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/admin/<iso>/<id1>/<id2>
```

> Example URL request

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/admin/ESP/1/2
```

> Example response

```json
{
    "data": {
        "type": "geoStore",
        "id": "214e74a9e8702f78354ed5cb0297c10d",
        "attributes": {
            "geojson": {
                "crs": {},
                "features": [
                    {
                        "geometry": {
                            "coordinates": [...],
                            "type": "MultiPolygon"
                        },
                        "properties": null,
                        "type": "Feature"
                    }
                ],
                "type": "FeatureCollection"
            },
            "hash": "214e74a9e8702f78354ed5cb0297c10d",
            "provider": {},
            "areaHa": 744195.8099038196,
            "bbox": [
                -6.47347212,
                35.9995842,
                -5.08662891,
                37.05246735
            ],
            "lock": false,
            "info": {
                "use": {},
                "simplifyThresh": 0.00005,
                "gadm": "3.6",
                "name": "Cádiz",
                "id2": 2,
                "id1": 1,
                "iso": "ESP"
            }
        }
    }
}
```

### Get geostore by World Database on Protected Areas ID

Geostore objects can be retrieved via the GET `geostore/admin/wdpa/:id` endpoint, which returns a single object selected from the Geostore using a single [World Database on Protected Areas](https://www.protectedplanet.net/) (WDPA) ID (`<id>`), if a geostore with the specified `<id>` does not exist in the Geostore, a `404` response is returned. To find valid WDPA ID values check the link.

***Note marine protected areas are NOT included***

[TODO: This database is updated regularily! Which version is used?]

> Example request pattern

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/wdpa/<id>
```

> Example URL request

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/wdpa/142809
```

> Example response (note coordinates are truncated)

```json
{
    "data": {
        "type": "geoStore",
        "id": "88db597b6bcd096fb80d1542cdc442be",
        "attributes": {
            "geojson": {
                "crs": {},
                "type": "FeatureCollection",
                "features": [
                    {
                        "geometry": {
                            "coordinates": [
                                ...
                                ],
                            "type": "MultiPolygon"
                        },
                        "type": "Feature",
                        "properties": null
                    }
                ]
            },
            "hash": "88db597b6bcd096fb80d1542cdc442be",
            "provider": {},
            "areaHa": 5081.838068566336,
            "bbox": [
                -6.031685272,
                36.160220287,
                -5.879245686,
                36.249656987
            ],
            "lock": false,
            "info": {
                "use": {},
                "wdpaid": 142809
            }
        }
    }
}
```

### Get geostore by Land Use Type keyword and ID

Geostore objects can be retrieved via the GET `geostore/admin/use/:name/:id` endpoint, which returns a single object selected from the Geostore using a single [Land Use Type](#land-use-types) keyword (`<name>`) and  Land Use Type object ID (`<id>`), if a geostore with the specified `<name>` and `<id>` does not exist in the Geostore, a `404` response is returned. Geestores for five land use types are available; Tiger conservation landscapes (`tiger_conservation_landscapes`), Oil Palm production (`oilpalm`), Mining activities (`mining`), Wood fiber production (`fiber`), and Forest logging activities (`logging`). The returned geometries can be simplified using the parameter `?simplify=<value>`. Where `<value>` is given to the simplification algorithm, 0.005 usually works well.

[TODO: Give details about source and version]

> Example request pattern

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/use/<name>/<id>
```

> Example URL request

```shell
curl -X GET https://api.resourcewatch.org/v2/geostore/use/logging/1
```

> Example response (note coordinates are truncated)

```json
{
    "data": {
        "type": "geoStore",
        "id": "bd5feac1b0dd4e73f3a1553889807622",
        "attributes": {
            "geojson": {
                "crs": {},
                "type": "FeatureCollection",
                "features": [
                    {
                        "geometry": {
                            "coordinates": [...],
                            "type": "MultiPolygon"
                        },
                        "type": "Feature",
                        "properties": null
                    }
                ]
            },
            "hash": "bd5feac1b0dd4e73f3a1553889807622",
            "provider": {},
            "areaHa": 45978.43408272762,
            "bbox": [
                102.691404026,
                -0.248440312,
                103.036606,
                -0.071735991
            ],
            "lock": false,
            "info": {
                "use": {
                    "use": "gfw_logging",
                    "id": 1
                },
                "simplify": false
            }
        }
    }
}
```
